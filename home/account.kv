

<AccountScreen>:
    opacity:0
    size_hint: 1,1
    pos_hint: {'center_x': 0.5,'center_y': 0.5}

    phone_number_editor : phone_number_editor
    email_editor : email_editor
    old_pin_editor : old_pin_editor
    new_pin_editor : new_pin_editor
    confirm_pin_editor : confirm_pin_editor
 

    ScrollView: 
        size_hint: 1, 1

            
        MDGridLayout:
            id: ticket_list
            cols: 1
            adaptive_height: True
            padding: [dp(15), 0, dp(15), dp(100)]
            spacing: dp(0)
            size_hint_y: None  

            Widget:
                size_hint: 1, None
                height: sp(70)

            BoxLayout:
                orientation: 'horizontal'
                size_hint: 1, None
                height: sp(90)

                Widget:
                    size_hint: 1, 1

                AsyncImage:
                    source: root.no_image_path
                    size_hint: None, 1
                    width: sp(120)
                    allow_stretch: True
                    keep_ratio: False

                Widget:
                    size_hint: 1, 1

            Widget:
                size_hint: 1, None
                height: sp(20)

            Label:
                text: root.team_name
                size_hint: 1, None
                height: sp(16)
                font_name: 'roboto_extrabold'
                font_size: sp(16)
                color: chex("#01334F")

            Widget:
                size_hint: 1, None
                height: sp(15)

            Label:
                text: root.fullname
                size_hint: 1, None
                height: sp(12)
                font_name: 'roboto_light'
                font_size: sp(12)
                color: chex("#01334F")
            Widget:
                size_hint: 1, None
                height: sp(4)

            Label:
                text: root.username
                size_hint: 1, None
                height: sp(12)
                font_name: 'roboto_light'
                font_size: sp(12)
                color: chex("#01334F")


            Widget:
                size_hint: 1, None
                height: sp(50)

            Label:
                text: 'Account Information'
                size_hint: 1, None
                height: sp(10)
                font_name: 'roboto_semibold'
                font_size: sp(10)
                color: chex("#01334F")
                text_size: self.size
                valign: 'middle'
                halign: 'left'
            
            Widget:
                size_hint: 1, None
                height: sp(10)

            BoxLayout:
                orientation: 'vertical'
                size_hint: 1, None
                height: sp(55)
                padding: [dp(15), dp(10), dp(15), dp(10)]

                canvas.before:
                    Color:
                        rgba: chex("#ACE2E1")
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [4]
                
                Label:
                    text: root.email
                    size_hint: 1, 0.5 
                    font_size: sp(10)
                    color: chex("#01334F")
                    text_size: self.size
                    valign: 'middle'
                    halign: 'left'
                    markup: True

                Label:
                    text: root.phone
                    size_hint: 1, 0.5 
                    font_size: sp(10)
                    color: chex("#01334F")
                    text_size: self.size
                    valign: 'middle'
                    halign: 'left'
                    markup: True


            Widget:
                size_hint: 1, None
                height: sp(30)

            Label:
                text: 'Modify Pin'
                size_hint: 1, None
                height: sp(16)
                font_name: 'roboto_extrabold'
                font_size: sp(13)
                color: chex("#01334F")
                text_size: self.size
                valign: 'middle'
                halign: 'left'
            
            Widget:
                size_hint: 1, None
                height: sp(10)
            
            
            Label:
                text: 'Old Pin'
                size_hint: 1, None
                height: sp(10)
                font_name: 'roboto_semibold'
                font_size: sp(10)
                color: chex("#01334F")
                text_size: self.size
                valign: 'middle'
                halign: 'left'

            Widget:
                size_hint: 1, None
                height: sp(10)

            SearchBoxTicket: 
                id : old_pin_editor
                pos_hint: {'center_x': 0.5,'center_y': 0.5}
                size_hint: 0.8, None
                height: sp(30)
                font_size: sp(10)
                hint_text: "Provide Your Old 4 Pins . . ."
                on_text: root.limit_to_4_digits(self, self.text)



            Widget:
                size_hint: 1, None
                height: sp(10)

            Label:
                text: 'New Pin'
                size_hint: 1, None
                height: sp(10)
                font_name: 'roboto_semibold'
                font_size: sp(10)
                color: chex("#01334F")
                text_size: self.size
                valign: 'middle'
                halign: 'left' 

            Widget:
                size_hint: 1, None
                height: sp(10)
                
            SearchBoxTicket: 
                id : new_pin_editor
                pos_hint: {'center_x': 0.5,'center_y': 0.5}
                size_hint: 0.8, None
                height: sp(30)
                font_size: sp(10)
                hint_text: "Provide Your New 4 Pins . . ." 
                on_text: root.limit_to_4_digits(self, self.text)

            Widget:
                size_hint: 1, None
                height: sp(10)

            Label:
                text: 'Confirm Pin'
                size_hint: 1, None
                height: sp(10)
                font_name: 'roboto_semibold'
                font_size: sp(10)
                color: chex("#01334F")
                text_size: self.size
                valign: 'middle'
                halign: 'left'

            Widget:
                size_hint: 1, None
                height: sp(10)
                
            SearchBoxTicket: 
                id : confirm_pin_editor
                pos_hint: {'center_x': 0.5,'center_y': 0.5}
                size_hint: 0.8, None
                height: sp(30)
                font_size: sp(10)
                hint_text: "Re-Enter Your 4 Pins . . ."
                on_text: root.limit_to_4_digits(self, self.text)

            Widget:
                size_hint: 1, None
                height: sp(30)

            MDBoxLayout:
                orientation:'horizontal' 
                size_hint: 1, None
                adaptive_height: True 
                
                
                Widget:
                    
                Button: 
                    text: "Update Pin"
                    size_hint: None , None
                    size: sp(120) , sp(30) 
                    font_size: sp(14)
                    color: chex("#F7EEDD")
                    font_name: 'roboto_semibold'
                    background_color: (0 , 0, 0 ,0)
                    on_release:
                        root.update_pin()

                    canvas.before:
                        Color:
                            rgba : chex("#008DDA")
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: (4, 4 ,4 ,4)
 


            Widget:
                size_hint: 1, None
                height: sp(30)

            Label:
                text: 'Account Editor'
                size_hint: 1, None
                height: sp(16)
                font_name: 'roboto_extrabold'
                font_size: sp(13)
                color: chex("#01334F")
                text_size: self.size
                valign: 'middle'
                halign: 'left'

            Widget:
                size_hint: 1, None
                height: sp(10)

            BoxLayout:
                orientation: 'horizontal'
                size_hint: 1, None
                height: sp(90)

                Widget:
                    size_hint: 1, 1
                
                FloatLayout:
                    size_hint: None, 1
                    width: sp(120)

                    AsyncImage:
                        source: root.no_image_path
                        size_hint: 1, 1
                        allow_stretch: True
                        keep_ratio: False
                        pos_hint: {'center_x': .5, 'center_y': .5}

                        canvas.after:
                            Color: 
                                rgba: (255 , 255 , 255, 0.5)
                            Rectangle:
                                pos: self.pos
                                size: self.size

                    
                    MDIconButton:
                        icon: 'camera'
                        pos_hint: {'center_x': .5, 'center_y': .5}
                        theme_icon_color: "Custom"
                        icon_color: chex("#1C274C")
                        on_release: 
                            root.upload_image()

                Widget:
                    size_hint: (1 , 1)
                        


            Widget:
                size_hint: 1, None
                height: sp(10)

            Label:
                text: 'Email'
                size_hint: 1, None
                height: sp(10)
                font_name: 'roboto_semibold'
                font_size: sp(10)
                color: chex("#01334F")
                text_size: self.size
                valign: 'middle'
                halign: 'left'

            Widget:
                size_hint: 1, None
                height: sp(10)

            SearchBoxTicket:
                id: email_editor
                pos_hint: {'center_x': 0.5,'center_y': 0.5}
                size_hint: 0.8, None
                height: sp(30)
                font_size: sp(10)



            Widget:
                size_hint: 1, None
                height: sp(10)

            Label:
                text: 'Phone Number'
                size_hint: 1, None
                height: sp(10)
                font_name: 'roboto_semibold'
                font_size: sp(10)
                color: chex("#01334F")
                text_size: self.size
                valign: 'middle'
                halign: 'left'

            Widget:
                size_hint: 1, None
                height: sp(10)
                
            SearchBoxTicket:
                id: phone_number_editor
                pos_hint: {'center_x': 0.5,'center_y': 0.5}
                size_hint: 0.8, None
                height: sp(30)
                font_size: sp(10)

            Widget:
                size_hint: 1, None
                height: sp(30)

            MDBoxLayout:
                orientation:'horizontal' 
                size_hint: 1, None
                adaptive_height: True 
                
                
                Widget:
                    
                Button: 
                    text: "Update Profile"
                    size_hint: None , None
                    size: sp(120) , sp(30) 
                    font_size: sp(14)
                    color: chex("#F7EEDD")
                    font_name: 'roboto_semibold'
                    background_color: (0 , 0, 0 ,0)
                    on_release:
                        root.update_techinfo()

                    canvas.before:
                        Color:
                            rgba : chex("#008DDA")
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: (4, 4 ,4 ,4)

